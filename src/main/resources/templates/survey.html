<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>everybot event page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


</head>
<body class="survey-body">

<div class="container">
    <h1 class="title">에브리봇 프로모션</h1>
    <br>
    <h1 class="sub-title">신제품 출시정보 관심고객 소식받기 EVENT</h1>
    <br><br>
    <p class="end-date">기간&nbsp; :&nbsp; ~ &nbsp;23.07.31</p>
    <div class="highlight">
        <p> •&nbsp;&nbsp;&nbsp;에브리봇 행사, 신제품 출시 정보 누구보다 빠르게 소식받기!</p>
        <p> •&nbsp;&nbsp;&nbsp;관심고객 신청만 해도 추첨을 통해 경품 제공!</p>
        <p> •&nbsp;&nbsp;&nbsp;이벤트 경품 &nbsp;➜&nbsp; 스타벅스 아메리카노(50명)</p>
        <p><strong> •&nbsp;&nbsp;&nbsp;당첨자 발표&nbsp; ➜ &nbsp;8월 2주차 (접수하신 휴대폰 번호로 별도 발표없이 발송됩니다)</strong></p>
    </div>

    <form action="submit" th:action="@{/submit}" id="myForm" th:object="${surveyDto}" method="post">
        <!--        성명 입력 칸-->
        <!--        <div class="form-group">-->
        <!--            <label for="myName"><strong>1. 성명:</strong></label>-->
        <!--            <input class="text-blank" type="text" id="myName" th:field="*{name}" name="name" placeholder=" 예) 홍길동">-->
        <!--        </div>-->
        <div class="highlight">
            <div class="input-style">
                <label for="myName"><strong>1. 성명:</strong></label>
                <input class="form-control" type="text" id="myName" th:field="*{name}" name="name"
                       placeholder=" 예) 홍길동">
                <p id="nameAlert" style="color: red; display: none;">다시 입력해주세요.</p>
            </div>
        </div>

        <!--        휴대전화 번호 입력 칸-->
        <!--        <div class="form-group">-->
        <!--            <label for="phone"><strong>2. 휴대전화 번호 (행사 안내문자가 발송됩니다)</strong></label>-->
        <!--            <input class="text-blank" type="text" id="phone" th:field="*{phoneNumber}" name="phoneNumber"-->
        <!--                   placeholder=" - 없이 번호만 작성해주세요.">-->
        <!--        </div>-->
        <div class="highlight">
            <label for="phone"><strong>2. 휴대전화 번호 (행사 안내문자가 발송됩니다)</strong></label>
            <input class="text-blank" type="text" id="phone" th:field="*{phoneNumber}" name="phoneNumber"
                   placeholder=" - 없이 번호만 작성해주세요.">
            <small id="phoneError" class="text-danger" style="display: none;">다시 입력해주세요.</small>
        </div>

        <div class="highlight">
            <label><strong>3. 성별</strong></label>
            <div class="col">
                <label style="display: block;">
                    <input type="radio" th:field="*{gender}" name="gender" value="남성"> <span
                        style="margin-right: 100px;">남성</span>
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{gender}" name="gender" value="여성"> 여성
                </label>
            </div>
        </div>

        <div class="highlight">
            <label><strong>4. 관심있는 제품을 선택해주세요.</strong></label>

            <div class="col">
                <label>
                    <input type="radio" th:field="*{product}" name="product" value="쓰리스핀 EVO"> 쓰리스핀 EVO
                </label>
                <label>
                    <input type="radio" th:field="*{product}" name="product" value="쓰리스핀"> 쓰리스핀
                </label>
                <label>
                    <input type="radio" th:field="*{product}" name="product" value="엣지2"> 엣지2
                </label>
                <label>
                    <input type="radio" th:field="*{product}" name="product" value="쓰리스핀 PLUS"> 쓰리스핀 PLUS
                </label>
                <label>
                    <input type="radio" th:field="*{product}" name="product" value="Q5"> Q5
                </label>
                <label>
                    <input type="radio" th:field="*{product}" name="product" value="기타"> 기타
                </label>
            </div>
        </div>

        <div class="highlight">
            <label><strong>5. 에브리봇을 알게된 경로를 체크해주세요.</strong></label>

            <div class="col">
                <label style="display: block;">
                    <input type="radio" th:field="*{source}" name="source" value="온라인"> 온라인
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{source}" name="source" value="오프라인"> 오프라인
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{source}" name="source" value="홈쇼핑"> 홈쇼핑
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{source}" name="source" value="지인 소개"> 지인 소개
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{source}" name="source" value="SNS"> SNS
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{source}" name="source" value="유튜브"> 유튜브
                </label>
            </div>
        </div>

        <div class="highlight">
            <label><strong>6. 귀하의 연령대가 어떻게 되십니까?</strong></label>

            <div class="col">
                <label style="display: block;">
                    <input type="radio" th:field="*{ageRange}" name="ageRange" value="10대"> 10대
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{ageRange}" name="ageRange" value="20대"> 20대
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{ageRange}" name="ageRange" value="30대"> 30대
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{ageRange}" name="ageRange" value="40대"> 40대
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{ageRange}" name="ageRange" value="50대"> 50대
                </label>
                <label style="display: block;">
                    <input type="radio" th:field="*{ageRange}" name="ageRange" value="60대"> 60대 이상
                </label>
            </div>
        </div>

        <div class="highlight">
            <div class="form-group1">
                <label><strong>유의 사항:</strong></label>
                <p>- 비정상적인 경로나 방법 등을 활용 경우, 이벤트에서 제외될 수 있습니다.</p>
                <p>- 관심고객 대상 경품 이벤트의 경우, 7월31일 까지 관심고객으로 신청해주신 고객을 대상으로 진행되는 이벤트 입니다.</p>
                <p>- 본 이벤트는 당사의 사정에 따라 별도 공지 없이 변경 또는 조기 종료될 수 있습니다.</p>
                <p>- 관심고객 사전등록 시 제품 홍보 및 행사 안내를 위한 문자가 발송됩니다.</p>
                <p>- 사은품은 추후 별도 배송되며, 연락처/주소 오기입으로 인한 미발송 시 재발송 되지 않으니 유의하여 주시기 바랍니다.</p>
                <p>- 이벤트 경품은 공급사의 사정으로 변경(동일금액상당)될 수 있습니다.</p>
                <p>- 당첨자 발표의 경우 접수하신 휴대폰으로 별도 발표없이 발송 됩니다.</p>
            </div>
        </div>

        <div class="highlight">
            <div class="form-group1">
                <label><strong>개인정보 활용 동의서</strong></label>

                <br>
                <p style="margin-bottom: 15px"><strong>● 개인정보 수집 이용 동의서</strong></p>
                <p style="margin-bottom: 15px">I. 개인정보의 수집 및 이용 동의서 - 이용자가 제공한 모든 정보는 다음의 목적을 위해 활용하며, 하기 목적 이외의 용도로는
                    사용되지
                    않습니다.</p>
                <p>① 개인정보 수집 항목 및 수집·이용 목적</p>
                <p>가) &nbsp;수집 항목 (필수 항목) - 성명(국문), 전화번호(휴대 전화) 신청서에 기재된 정보 또는 신청자가 제 공한 정보</p>
                <p>나) &nbsp;수집 및 이용 목적 - 에브리봇 주식회사 신제품 출시 안내 문자 발송 – 에브리봇 주식회사 출시 정보 문자발송</p>
                <p style="margin-bottom: 15px">– 에브리봇 주식회사 이벤트 사은품 쿠폰 발송 – 에브리봇 주식회사 자사 제품 홍보 목적의 SMS 발송</p>
                <p style="margin-bottom: 15px">② 개인정보 보유 및 이용기간 - 수집·이용 동의 일로부터 6개월 이내</p>
                <p>③ 동의거부관리 - 귀하께서는 본 안내에 따른 개인정보 수집, 이용에 대하여 동의를 거부하실 권리가 있습니다.</p>
                <p style="margin-bottom: 15px">다만, 귀하가 개인정보의 수집 / 이용에 동의를 거부하시는 경우에 해당 이벤트에서 제외되며 사은품 대상에서 제외됩니다.</p>
                <p>본인은 위의 동의서 내용을 충분히 숙지하였으며, 개인정보 수집, 이용, 제공하는 것에 동의합니다.</p>
            </div>
            <br>
            <div class="form-check1">
                <div class="form-check2">
                    <label><strong>
                        <input type="radio" th:field="*{privacyConsent}" name="privacyConsent" value="true"
                               onclick="updateLabel()"> 개인정보 수집 및 활용에
                        <span id="consentLabel">동의</span>합니다.
                    </strong></label>
                </div>
            </div>
        </div>

        <!--        마케팅 수신 동의-->
        <div class="highlight">
            <div class="event-text">
                <p>본 이벤트 신청서에 입력하신 개인정보는 사은품 배송을 위한 용도로만 활용되며, 사은품 배송과 관계없는 제 3자에게 제공되지 않습니다.</p>
            </div>
            <br>
            <!--        <div class="form-check3">-->
            <!--            <div class="form-check4">-->
            <!--                <label>-->
            <!--                    <input type="checkbox" th:field="*{eventSmsConsent}" name="eventSmsConsent"> 이벤트 당첨 안내 및 마케팅 수신에-->
            <!--                    동의합니다.-->
            <!--                </label>-->
            <!--            </div>-->
            <!--        </div>-->

            <label class="event-title">● 이벤트 당첨 안내 및 마케팅 수신 동의 (동의하지 않을 시 이벤트 참여에 제한이 있습니다)</label>
            <div class="form-group-event">
                <label class="event-subtitle" style="display: inline;">
                    <input type="radio" th:field="*{eventSmsConsent}" name="eventSmsConsent" value="o">
                    <span style="margin-right: 120px;">동의합니다.</span>
                </label>
                <label class="event-subtitle" style="display: inline;">
                    <input type="radio" th:field="*{eventSmsConsent}" name="eventSmsConsent" value="x">
                    동의하지 않습니다.
                </label>
            </div>
        </div>
        <br>
        <input type="submit" class="btn btn-primary btn-block" value="응모 완료" onclick="submitForm(event)">
    </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
<script>
    function submitForm(event) {
        event.preventDefault(); // 폼 제출을 막고, 직접 처리하기 위해 추가

        // 필드 값 체크
        var name = document.getElementById('myName').value;
        var phone = document.getElementById('phone').value;
        var gender = document.querySelector('input[name="gender"]:checked');
        var product = document.querySelector('input[name="product"]:checked');
        var source = document.querySelector('input[name="source"]:checked');
        var ageRange = document.querySelector('input[name="ageRange"]:checked');
        var privacyConsent = document.querySelector('input[name="privacyConsent"]:checked');

        // 필수 항목이 비어 있는지 확인
        if (!name || !phone || !gender || !product || !source || !ageRange) {
            alert('모든 필수 항목을 입력해주세요.');
            return;
        }
        // 동의 체크 확인
        if (!privacyConsent) {
            alert('개인정보 수집 및 활용에 동의해야 응모가 가능합니다.');
            return;
        }
        // 모든 필수 항목이 입력되었을 때만 응모 완료 메시지 출력
        alert('응모가 완료되었습니다.');
        document.getElementById('myForm').submit();
    }

</script>

<script>
    function updateLabel() {
        var consentLabel = document.getElementById("consentLabel");
        var radio = document.querySelector('input[name="privacyConsent"]:checked');
        if (radio.value === "true") {
            consentLabel.textContent = "동의";
        } else {
            consentLabel.textContent = "";
        }
    }
</script>

<!--성명 및 휴대전화 번호 칸에 다른 문자 입력 불가능-->
<script>
    function submitForm(event) {
        // Name validation
        var nameInput = document.getElementById('myName');
        var name = nameInput.value;
        var namePattern = /^[가-힣]+$/; // Only allow Korean characters

        // Phone number validation
        var phoneNumberInput = document.getElementById('phone');
        var phoneNumber = phoneNumberInput.value;
        var phonePattern = /^\d+$/; // Only allow numeric characters

        if (!namePattern.test(name)) {
            event.preventDefault(); // Prevent form submission
            nameInput.value = ''; // Clear the invalid input
            nameInput.focus(); // Set focus on the name input
            document.getElementById('nameAlert').style.display = 'block'; // Show name error message
        } else {
            document.getElementById('nameAlert').style.display = 'none'; // Hide name error message
        }

        if (!phonePattern.test(phoneNumber)) {
            event.preventDefault(); // Prevent form submission
            phoneNumberInput.value = ''; // Clear the invalid input
            phoneNumberInput.focus(); // Set focus on the phone number input
            document.getElementById('phoneError').style.display = 'block'; // Show phone number error message
        } else {
            document.getElementById('phoneError').style.display = 'none'; // Hide phone number error message
        }
    }
</script>

</body>
</html>